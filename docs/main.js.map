{"version":3,"sources":["webpack:///./node_modules/@trust/webcrypto/src/algorithms sync","webpack:///./node_modules/n3/lib sync ^\\.\\/N3.*$","webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/card/card.component.css","webpack:///./src/app/card/card.component.html","webpack:///./src/app/card/card.component.ts","webpack:///./src/app/contact-add/contact-add.component.css","webpack:///./src/app/contact-add/contact-add.component.html","webpack:///./src/app/contact-add/contact-add.component.ts","webpack:///./src/app/contact.ts","webpack:///./src/app/contact/contact.component.css","webpack:///./src/app/contact/contact.component.html","webpack:///./src/app/contact/contact.component.ts","webpack:///./src/app/contacts/contacts.component.css","webpack:///./src/app/contacts/contacts.component.html","webpack:///./src/app/contacts/contacts.component.ts","webpack:///./src/app/dashboard/dashboard.component.css","webpack:///./src/app/dashboard/dashboard.component.html","webpack:///./src/app/dashboard/dashboard.component.ts","webpack:///./src/app/login-popup/login-popup.component.css","webpack:///./src/app/login-popup/login-popup.component.html","webpack:///./src/app/login-popup/login-popup.component.ts","webpack:///./src/app/login/login.component.css","webpack:///./src/app/login/login.component.html","webpack:///./src/app/login/login.component.ts","webpack:///./src/app/message/messaging.component.css","webpack:///./src/app/message/messaging.component.html","webpack:///./src/app/message/messaging.component.ts","webpack:///./src/app/messages/message.ts","webpack:///./src/app/messages/messages.component.css","webpack:///./src/app/messages/messages.component.html","webpack:///./src/app/messages/messages.component.ts","webpack:///./src/app/register/register.component.css","webpack:///./src/app/register/register.component.html","webpack:///./src/app/register/register.component.ts","webpack:///./src/app/services/auth.guard.service.ts","webpack:///./src/app/services/folders-manager.service.ts","webpack:///./src/app/services/rdf.service.ts","webpack:///./src/app/services/solid.auth.service.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts","webpack:///vertx (ignored)"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = \"./node_modules/@trust/webcrypto/src/algorithms sync recursive\";","var map = {\n\t\"./N3Lexer\": \"./node_modules/n3/lib/N3Lexer.js\",\n\t\"./N3Lexer.js\": \"./node_modules/n3/lib/N3Lexer.js\",\n\t\"./N3Parser\": \"./node_modules/n3/lib/N3Parser.js\",\n\t\"./N3Parser.js\": \"./node_modules/n3/lib/N3Parser.js\",\n\t\"./N3Store\": \"./node_modules/n3/lib/N3Store.js\",\n\t\"./N3Store.js\": \"./node_modules/n3/lib/N3Store.js\",\n\t\"./N3StreamParser\": \"./node_modules/n3/lib/N3StreamParser.js\",\n\t\"./N3StreamParser.js\": \"./node_modules/n3/lib/N3StreamParser.js\",\n\t\"./N3StreamWriter\": \"./node_modules/n3/lib/N3StreamWriter.js\",\n\t\"./N3StreamWriter.js\": \"./node_modules/n3/lib/N3StreamWriter.js\",\n\t\"./N3Util\": \"./node_modules/n3/lib/N3Util.js\",\n\t\"./N3Util.js\": \"./node_modules/n3/lib/N3Util.js\",\n\t\"./N3Writer\": \"./node_modules/n3/lib/N3Writer.js\",\n\t\"./N3Writer.js\": \"./node_modules/n3/lib/N3Writer.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./node_modules/n3/lib sync recursive ^\\\\.\\\\/N3.*$\";","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuY3NzIn0= */\"","module.exports = \"<router-outlet></router-outlet>\\r\\n\"","import {Component, OnInit} from '@angular/core';\r\nimport { popupLogin } from 'solid-auth-client/dist-lib/solid-auth-client.bundle.js';\r\n\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent {\r\n  title = 'app';\r\n}\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport {LoginPopupComponent} from './login-popup/login-popup.component';\r\nimport {LoginComponent} from './login/login.component';\r\nimport { CardComponent } from './card/card.component';\r\nimport { DashboardComponent } from './dashboard/dashboard.component';\r\n\r\n// Services\r\nimport { AuthService } from './services/solid.auth.service';\r\nimport { AuthGuard } from './services/auth.guard.service';\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { RegisterComponent } from './register/register.component';\r\nimport { ToastrModule } from 'ngx-toastr';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { ContactsComponent } from './contacts/contacts.component';\r\nimport { MessagesComponent } from './messages/messages.component';\r\nimport { ContactComponent } from './contact/contact.component';\r\nimport { MessagingComponent } from './message/messaging.component';\r\nimport { ContactAddComponent } from './contact-add/contact-add.component';\r\n\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LoginComponent\r\n  },\r\n  {\r\n    path: 'login',\r\n    component: LoginComponent\r\n  },\r\n  {\r\n    path: 'login-popup',\r\n    component: LoginPopupComponent\r\n  },\r\n  {\r\n    path: 'dashboard',\r\n    component: DashboardComponent,\r\n    canActivate: [AuthGuard],\r\n  },\r\n  {\r\n    path: 'card',\r\n    component: CardComponent,\r\n    canActivate: [AuthGuard],\r\n  },\r\n  {\r\n    path: 'register',\r\n    component: RegisterComponent\r\n  },\r\n  {\r\n    path: 'message',\r\n    component: MessagingComponent\r\n  },\r\n  {\r\n    path: 'contact-add',\r\n    component: ContactAddComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    LoginComponent,\r\n    LoginPopupComponent,\r\n    DashboardComponent,\r\n    CardComponent,\r\n    RegisterComponent,\r\n    ContactsComponent,\r\n    MessagesComponent,\r\n    ContactComponent,\r\n    MessagingComponent,\r\n    ContactAddComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    FormsModule,\r\n    RouterModule.forRoot(routes),\r\n    NgSelectModule,\r\n    ToastrModule.forRoot(),\r\n    BrowserAnimationsModule //required for toastr\r\n  ],\r\n  providers: [AuthService],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","module.exports = \".profile-container {\\r\\n  font-family: 'Roboto', sans-serif;\\r\\n}\\r\\n\\r\\n.profile-container h1 {\\r\\n  font-size: 24px;\\r\\n  color: #7C55FB;\\r\\n  font-weight: bold;\\r\\n  line-height: 32px;\\r\\n  letter-spacing: 1.2px;\\r\\n  text-align: center;\\r\\n  margin-top: 82px;\\r\\n  text-transform: uppercase;\\r\\n}\\r\\n\\r\\n.profile-fields-container {\\r\\n  max-width: 740px;\\r\\n  min-height: 500px;\\r\\n  margin: 0 auto;\\r\\n  border: 1px solid #ccc;\\r\\n  box-shadow: #ccc 1px 1px 4px;\\r\\n  position: relative;\\r\\n}\\r\\n\\r\\n.profile-fields-container .profile-image-container {\\r\\n  height: 200px;\\r\\n  width: 100%;\\r\\n  background-size: cover !important;\\r\\n  background: url('/assets/images/Solid_Pattern.png');\\r\\n}\\r\\n\\r\\n.profile-fields-container .profile-image-container img {\\r\\n  height: 128px;\\r\\n  border-radius: 50%;\\r\\n  margin-left: auto;\\r\\n  margin-right:auto;\\r\\n  position: relative;\\r\\n  top:40px;\\r\\n  display: block;\\r\\n}\\r\\n\\r\\n.profile-fields-container i {\\r\\n  font-size: 14px;\\r\\n  color: #89969F;\\r\\n  padding-left: 26px;\\r\\n  padding-right: 10px;\\r\\n  margin-top: 24px;\\r\\n}\\r\\n\\r\\n.profile-fields-container input[type=text].field-text {\\r\\n  height: 12px;\\r\\n  width: 280px;\\r\\n  border: 1px solid #89969F;\\r\\n  border-radius: 4px;\\r\\n  padding: 10px;\\r\\n}\\r\\n\\r\\n.profile-fields-container input[type=text].field-text::-webkit-input-placeholder {\\r\\n  color: rgba(102,102,102,0.2);\\r\\n}\\r\\n\\r\\n.profile-fields-container input[type=text].field-text:-ms-input-placeholder {\\r\\n  color: rgba(102,102,102,0.2);\\r\\n}\\r\\n\\r\\n.profile-fields-container input[type=text].field-text::-ms-input-placeholder {\\r\\n  color: rgba(102,102,102,0.2);\\r\\n}\\r\\n\\r\\n.profile-fields-container input[type=text].field-text::placeholder {\\r\\n  color: rgba(102,102,102,0.2);\\r\\n}\\r\\n\\r\\n.profile-save-button-container {\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  margin-bottom: auto;\\r\\n  height: 100px;\\r\\n  flex-direction: column;\\r\\n  justify-content: flex-end;\\r\\n}\\r\\n\\r\\n.profile-save-button {\\r\\n  background-color: #7C55FB;\\r\\n  margin-left: auto;\\r\\n  margin-right: auto;\\r\\n  width: 280px;\\r\\n}\\r\\n\\r\\n.profile-save-button:disabled {\\r\\n  background-color: #F0EEEB;\\r\\n  border-color: #F0EEEB;\\r\\n  cursor: not-allowed;\\r\\n}\\r\\n\\r\\n.topnav {\\r\\n  position:absolute;\\r\\n  top:0;\\r\\n  left:0;\\r\\n  width: 100%;\\r\\n  background-color: #7C4DFF;\\r\\n  height: 50px;\\r\\n  color: #fff;\\r\\n}\\r\\n\\r\\n.topnav .logo {\\r\\n  display: inline-block;\\r\\n  font-family: 'Roboto Slab', serif;\\r\\n  font-size: 24px;\\r\\n  font-weight: bold;\\r\\n  text-transform: uppercase;\\r\\n  line-height: 32px;\\r\\n  padding-right: 80px;\\r\\n  position: relative;\\r\\n  top: -8px;\\r\\n  left: 28px;\\r\\n}\\r\\n\\r\\n.topnav .menu-item {\\r\\n  display: inline-block;\\r\\n  font-size: 10px;\\r\\n  line-height: 13px;\\r\\n  width: 100px;\\r\\n  height: 100%;\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n.topnav .menu-item i {\\r\\n  font-size: 24px;\\r\\n  margin-top:8px;\\r\\n  margin-bottom: 2px;\\r\\n}\\r\\n\\r\\n.topnav .profile-menu {\\r\\n  float: right;\\r\\n  display: inline-block;\\r\\n  width: 50px;\\r\\n  height: 50px;\\r\\n  background-color: rgba(0,0,0,0.25);\\r\\n}\\r\\n\\r\\n.topnav .profile-menu img {\\r\\n  display: block;\\r\\n  height: 30px;\\r\\n  width: 30px;\\r\\n  border-radius: 50%;\\r\\n  margin: 0 auto;\\r\\n  margin-top:10px;\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n.loading-image {\\r\\n  text-align: center;\\r\\n  margin-top: 50px;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY2FyZC9jYXJkLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxpQ0FBaUM7QUFDbkM7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsY0FBYztFQUNkLGlCQUFpQjtFQUNqQixpQkFBaUI7RUFDakIscUJBQXFCO0VBQ3JCLGtCQUFrQjtFQUNsQixnQkFBZ0I7RUFDaEIseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLGlCQUFpQjtFQUNqQixjQUFjO0VBQ2Qsc0JBQXNCO0VBQ3RCLDRCQUE0QjtFQUM1QixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsV0FBVztFQUNYLGlDQUFpQztFQUNqQyxtREFBbUQ7QUFDckQ7O0FBRUE7RUFDRSxhQUFhO0VBQ2Isa0JBQWtCO0VBQ2xCLGlCQUFpQjtFQUNqQixpQkFBaUI7RUFDakIsa0JBQWtCO0VBQ2xCLFFBQVE7RUFDUixjQUFjO0FBQ2hCOztBQUVBO0VBQ0UsZUFBZTtFQUNmLGNBQWM7RUFDZCxrQkFBa0I7RUFDbEIsbUJBQW1CO0VBQ25CLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLFlBQVk7RUFDWixZQUFZO0VBQ1oseUJBQXlCO0VBQ3pCLGtCQUFrQjtFQUNsQixhQUFhO0FBQ2Y7O0FBRUE7RUFDRSw0QkFBNEI7QUFDOUI7O0FBRkE7RUFDRSw0QkFBNEI7QUFDOUI7O0FBRkE7RUFDRSw0QkFBNEI7QUFDOUI7O0FBRkE7RUFDRSw0QkFBNEI7QUFDOUI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLG1CQUFtQjtFQUNuQixhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLHlCQUF5QjtFQUN6QixpQkFBaUI7RUFDakIsa0JBQWtCO0VBQ2xCLFlBQVk7QUFDZDs7QUFFQTtFQUNFLHlCQUF5QjtFQUN6QixxQkFBcUI7RUFDckIsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsaUJBQWlCO0VBQ2pCLEtBQUs7RUFDTCxNQUFNO0VBQ04sV0FBVztFQUNYLHlCQUF5QjtFQUN6QixZQUFZO0VBQ1osV0FBVztBQUNiOztBQUVBO0VBQ0UscUJBQXFCO0VBQ3JCLGlDQUFpQztFQUNqQyxlQUFlO0VBQ2YsaUJBQWlCO0VBQ2pCLHlCQUF5QjtFQUN6QixpQkFBaUI7RUFDakIsbUJBQW1CO0VBQ25CLGtCQUFrQjtFQUNsQixTQUFTO0VBQ1QsVUFBVTtBQUNaOztBQUVBO0VBQ0UscUJBQXFCO0VBQ3JCLGVBQWU7RUFDZixpQkFBaUI7RUFDakIsWUFBWTtFQUNaLFlBQVk7RUFDWixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsY0FBYztFQUNkLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLFlBQVk7RUFDWixxQkFBcUI7RUFDckIsV0FBVztFQUNYLFlBQVk7RUFDWixrQ0FBa0M7QUFDcEM7O0FBRUE7RUFDRSxjQUFjO0VBQ2QsWUFBWTtFQUNaLFdBQVc7RUFDWCxrQkFBa0I7RUFDbEIsY0FBYztFQUNkLGVBQWU7RUFDZixlQUFlO0FBQ2pCOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLGdCQUFnQjtBQUNsQiIsImZpbGUiOiJzcmMvYXBwL2NhcmQvY2FyZC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnByb2ZpbGUtY29udGFpbmVyIHtcclxuICBmb250LWZhbWlseTogJ1JvYm90bycsIHNhbnMtc2VyaWY7XHJcbn1cclxuXHJcbi5wcm9maWxlLWNvbnRhaW5lciBoMSB7XHJcbiAgZm9udC1zaXplOiAyNHB4O1xyXG4gIGNvbG9yOiAjN0M1NUZCO1xyXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gIGxpbmUtaGVpZ2h0OiAzMnB4O1xyXG4gIGxldHRlci1zcGFjaW5nOiAxLjJweDtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgbWFyZ2luLXRvcDogODJweDtcclxuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xyXG59XHJcblxyXG4ucHJvZmlsZS1maWVsZHMtY29udGFpbmVyIHtcclxuICBtYXgtd2lkdGg6IDc0MHB4O1xyXG4gIG1pbi1oZWlnaHQ6IDUwMHB4O1xyXG4gIG1hcmdpbjogMCBhdXRvO1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XHJcbiAgYm94LXNoYWRvdzogI2NjYyAxcHggMXB4IDRweDtcclxuICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbn1cclxuXHJcbi5wcm9maWxlLWZpZWxkcy1jb250YWluZXIgLnByb2ZpbGUtaW1hZ2UtY29udGFpbmVyIHtcclxuICBoZWlnaHQ6IDIwMHB4O1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGJhY2tncm91bmQtc2l6ZTogY292ZXIgIWltcG9ydGFudDtcclxuICBiYWNrZ3JvdW5kOiB1cmwoJy9hc3NldHMvaW1hZ2VzL1NvbGlkX1BhdHRlcm4ucG5nJyk7XHJcbn1cclxuXHJcbi5wcm9maWxlLWZpZWxkcy1jb250YWluZXIgLnByb2ZpbGUtaW1hZ2UtY29udGFpbmVyIGltZyB7XHJcbiAgaGVpZ2h0OiAxMjhweDtcclxuICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgbWFyZ2luLWxlZnQ6IGF1dG87XHJcbiAgbWFyZ2luLXJpZ2h0OmF1dG87XHJcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gIHRvcDo0MHB4O1xyXG4gIGRpc3BsYXk6IGJsb2NrO1xyXG59XHJcblxyXG4ucHJvZmlsZS1maWVsZHMtY29udGFpbmVyIGkge1xyXG4gIGZvbnQtc2l6ZTogMTRweDtcclxuICBjb2xvcjogIzg5OTY5RjtcclxuICBwYWRkaW5nLWxlZnQ6IDI2cHg7XHJcbiAgcGFkZGluZy1yaWdodDogMTBweDtcclxuICBtYXJnaW4tdG9wOiAyNHB4O1xyXG59XHJcblxyXG4ucHJvZmlsZS1maWVsZHMtY29udGFpbmVyIGlucHV0W3R5cGU9dGV4dF0uZmllbGQtdGV4dCB7XHJcbiAgaGVpZ2h0OiAxMnB4O1xyXG4gIHdpZHRoOiAyODBweDtcclxuICBib3JkZXI6IDFweCBzb2xpZCAjODk5NjlGO1xyXG4gIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICBwYWRkaW5nOiAxMHB4O1xyXG59XHJcblxyXG4ucHJvZmlsZS1maWVsZHMtY29udGFpbmVyIGlucHV0W3R5cGU9dGV4dF0uZmllbGQtdGV4dDo6cGxhY2Vob2xkZXIge1xyXG4gIGNvbG9yOiByZ2JhKDEwMiwxMDIsMTAyLDAuMik7XHJcbn1cclxuXHJcbi5wcm9maWxlLXNhdmUtYnV0dG9uLWNvbnRhaW5lciB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIG1hcmdpbi1ib3R0b206IGF1dG87XHJcbiAgaGVpZ2h0OiAxMDBweDtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XHJcbn1cclxuXHJcbi5wcm9maWxlLXNhdmUtYnV0dG9uIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjN0M1NUZCO1xyXG4gIG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG4gIG1hcmdpbi1yaWdodDogYXV0bztcclxuICB3aWR0aDogMjgwcHg7XHJcbn1cclxuXHJcbi5wcm9maWxlLXNhdmUtYnV0dG9uOmRpc2FibGVkIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjRjBFRUVCO1xyXG4gIGJvcmRlci1jb2xvcjogI0YwRUVFQjtcclxuICBjdXJzb3I6IG5vdC1hbGxvd2VkO1xyXG59XHJcblxyXG4udG9wbmF2IHtcclxuICBwb3NpdGlvbjphYnNvbHV0ZTtcclxuICB0b3A6MDtcclxuICBsZWZ0OjA7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzdDNERGRjtcclxuICBoZWlnaHQ6IDUwcHg7XHJcbiAgY29sb3I6ICNmZmY7XHJcbn1cclxuXHJcbi50b3BuYXYgLmxvZ28ge1xyXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICBmb250LWZhbWlseTogJ1JvYm90byBTbGFiJywgc2VyaWY7XHJcbiAgZm9udC1zaXplOiAyNHB4O1xyXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XHJcbiAgbGluZS1oZWlnaHQ6IDMycHg7XHJcbiAgcGFkZGluZy1yaWdodDogODBweDtcclxuICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgdG9wOiAtOHB4O1xyXG4gIGxlZnQ6IDI4cHg7XHJcbn1cclxuXHJcbi50b3BuYXYgLm1lbnUtaXRlbSB7XHJcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gIGZvbnQtc2l6ZTogMTBweDtcclxuICBsaW5lLWhlaWdodDogMTNweDtcclxuICB3aWR0aDogMTAwcHg7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLnRvcG5hdiAubWVudS1pdGVtIGkge1xyXG4gIGZvbnQtc2l6ZTogMjRweDtcclxuICBtYXJnaW4tdG9wOjhweDtcclxuICBtYXJnaW4tYm90dG9tOiAycHg7XHJcbn1cclxuXHJcbi50b3BuYXYgLnByb2ZpbGUtbWVudSB7XHJcbiAgZmxvYXQ6IHJpZ2h0O1xyXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICB3aWR0aDogNTBweDtcclxuICBoZWlnaHQ6IDUwcHg7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLDAsMCwwLjI1KTtcclxufVxyXG5cclxuLnRvcG5hdiAucHJvZmlsZS1tZW51IGltZyB7XHJcbiAgZGlzcGxheTogYmxvY2s7XHJcbiAgaGVpZ2h0OiAzMHB4O1xyXG4gIHdpZHRoOiAzMHB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICBtYXJnaW46IDAgYXV0bztcclxuICBtYXJnaW4tdG9wOjEwcHg7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG59XHJcblxyXG4ubG9hZGluZy1pbWFnZSB7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIG1hcmdpbi10b3A6IDUwcHg7XHJcbn1cclxuIl19 */\"","module.exports = \"<div class=\\\"profile-container\\\">\\r\\n  <!-- EXAMPLE TOP NAV -->\\r\\n  <div class=\\\"topnav\\\">\\r\\n    <div class=\\\"logo\\\">Solid</div>\\r\\n    <div class=\\\"menu-item\\\">\\r\\n      <div>\\r\\n        <i class=\\\"far fa-compass\\\"></i>\\r\\n      </div>\\r\\n      Menu Item 1\\r\\n    </div>\\r\\n    <div class=\\\"menu-item\\\">\\r\\n      <div>\\r\\n        <i class=\\\"far fa-comment\\\"></i>\\r\\n      </div>\\r\\n      Menu Item 2\\r\\n    </div>\\r\\n    <div class=\\\"menu-item\\\">\\r\\n      <div>\\r\\n        <i class=\\\"fas fa-sliders-h\\\"></i>\\r\\n      </div>\\r\\n      Menu Item 3\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"profile-menu\\\" (click)=\\\"logout()\\\">\\r\\n      <img [src]=\\\"profileImage\\\" />\\r\\n    </div>\\r\\n  </div>\\r\\n  <h1>Profile</h1>\\r\\n\\r\\n  <!-- LOADING IMAGE -->\\r\\n  <div class=\\\"loading-image\\\" *ngIf=\\\"loadingProfile\\\">\\r\\n    <i class=\\\"fas fa-circle-notch fa-4x fa-spin\\\"></i>\\r\\n  </div>\\r\\n\\r\\n  <!-- MAIN PROFILE -->\\r\\n  <div class=\\\"profile-fields-container\\\" *ngIf=\\\"!loadingProfile\\\">\\r\\n    <div class=\\\"profile-image-container\\\">\\r\\n      <img [src]=\\\"profileImage\\\" />\\r\\n    </div>\\r\\n    <form style=\\\"padding-top: 26px;\\\" #f=\\\"ngForm\\\" (submit)=\\\"onSubmit()\\\">\\r\\n      <div class=\\\"fields pure-g\\\">\\r\\n        <!-- NAME -->\\r\\n        <div class=\\\"pure-u-1-1 pure-u-md-1-2 form-group\\\">\\r\\n          <i class=\\\"fas fa-user\\\"></i> <input type=\\\"text\\\" class=\\\"field-text form-control\\\" name=\\\"fn\\\" placeholder=\\\"NAME\\\" [(ngModel)]=\\\"profile.fn\\\" />\\r\\n        </div>\\r\\n\\r\\n        <!-- PHONE -->\\r\\n        <div class=\\\"pure-u-1-1 pure-u-md-1-2 form-group\\\">\\r\\n          <i class=\\\"fas fa-phone\\\"></i><input type=\\\"text\\\" class=\\\"field-text form-control\\\" name=\\\"phone\\\" placeholder=\\\"PHONE\\\" [(ngModel)]=\\\"profile.phone\\\" />\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"fields pure-g\\\">\\r\\n        <!-- ROLE -->\\r\\n        <div class=\\\"pure-u-1-1 pure-u-md-1-2 form-group\\\">\\r\\n          <i class=\\\"fas fa-user-astronaut\\\"></i> <input type=\\\"text\\\" class=\\\"field-text form-control\\\" name=\\\"role\\\" placeholder=\\\"ROLE\\\" [(ngModel)]=\\\"profile.role\\\" />\\r\\n        </div>\\r\\n\\r\\n        <!-- EMAIL -->\\r\\n        <div class=\\\"pure-u-1-1 pure-u-md-1-2 form-group\\\">\\r\\n          <i class=\\\"fas fa-envelope\\\"></i><input type=\\\"text\\\" class=\\\"field-text form-control\\\" name=\\\"email\\\" placeholder=\\\"EMAIL\\\" [(ngModel)]=\\\"profile.email\\\" />\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"fields pure-g\\\">\\r\\n        <!-- ORGANIZATION -->\\r\\n        <div class=\\\"pure-u-1-1 pure-u-md-1-2 form-group\\\">\\r\\n          <i class=\\\"fas fa-building\\\"></i> <input type=\\\"text\\\" class=\\\"field-text form-control\\\" name=\\\"company\\\" placeholder=\\\"ORGANIZATION\\\" [(ngModel)]=\\\"profile.company\\\" />\\r\\n        </div>\\r\\n\\r\\n        <!-- ADDRESS -->\\r\\n        <div class=\\\"pure-u-1-1 pure-u-md-1-2 form-group\\\">\\r\\n          <i class=\\\"fas fa-map-marker-alt\\\" style=\\\"width: 12px; margin-left: 2px;\\\"></i><input type=\\\"text\\\" class=\\\"field-text form-control\\\" name=\\\"address\\\" placeholder=\\\"ADDRESS\\\" [(ngModel)]=\\\"profile.address.street\\\" />\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"profile-save-button-container\\\">\\r\\n        <button type=\\\"submit\\\" class=\\\"wide-button profile-save-button\\\" [disabled]=\\\"!cardForm || cardForm.pristine\\\">Save</button>\\r\\n      </div>\\r\\n    </form>\\r\\n  </div>\\r\\n</div>\\r\\n\"","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { NgForm } from '@angular/forms';\r\nimport { SolidProfile } from '../models/solid-profile.model';\r\nimport { RdfService } from '../services/rdf.service';\r\nimport { AuthService } from '../services/solid.auth.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-card',\r\n  templateUrl: './card.component.html',\r\n  styleUrls: ['./card.component.css'],\r\n})\r\nexport class CardComponent implements OnInit  {\r\n\r\n  profile: SolidProfile;\r\n  profileImage: string;\r\n  loadingProfile: Boolean;\r\n\r\n  @ViewChild('f') cardForm: NgForm;\r\n\r\n  constructor(private rdf: RdfService,\r\n    private route: ActivatedRoute, private auth: AuthService) {}\r\n\r\n  ngOnInit() {\r\n    this.loadingProfile = true;\r\n    this.loadProfile();\r\n\r\n    // Clear cached profile data\r\n    // TODO: Remove this code and find a better way to get the old data\r\n    localStorage.removeItem('oldProfileData');\r\n  }\r\n\r\n  // Loads the profile from the rdf service and handles the response\r\n  async loadProfile() {\r\n    try {\r\n      this.loadingProfile = true;\r\n      const profile = await this.rdf.getProfile();\r\n      if (profile) {\r\n        this.profile = profile;\r\n        this.auth.saveOldUserData(profile);\r\n      }\r\n\r\n      this.loadingProfile = false;\r\n      this.setupProfileData();\r\n    } catch (error) {\r\n      console.log(`Error: ${error}`);\r\n    }\r\n\r\n  }\r\n\r\n  // Submits the form, and saves the profile data using the auth/rdf service\r\n  async onSubmit () {\r\n    if (!this.cardForm.invalid) {\r\n      try {\r\n        await this.rdf.updateProfile(this.cardForm);\r\n        localStorage.setItem('oldProfileData', JSON.stringify(this.profile));\r\n      } catch (err) {\r\n        console.log(`Error: ${err}`);\r\n      }\r\n    }\r\n  }\r\n\r\n  // Format data coming back from server. Intended purpose is to replace profile image with default if it's missing\r\n  // and potentially format the address if we need to reformat it for this UI\r\n  private setupProfileData() {\r\n    if (this.profile) {\r\n      this.profileImage = this.profile.image ? this.profile.image : '/assets/images/profile.png';\r\n    } else {\r\n      this.profileImage = '/assets/images/profile.png';\r\n    }\r\n  }\r\n\r\n  // Example of logout functionality. Normally wouldn't be triggered by clicking the profile picture.\r\n  logout() {\r\n    this.auth.solidSignOut();\r\n  }\r\n}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbnRhY3QtYWRkL2NvbnRhY3QtYWRkLmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"<div class=\\\"container\\\">\\r\\n    <div class=\\\"form-group\\\">\\r\\n        <label for=\\\"name\\\">Nombre</label>\\r\\n        <input type=\\\"text\\\" [(ngModel)]=\\\"nick\\\" class=\\\"form-control\\\" id=\\\"name\\\">\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"form-group\\\">\\r\\n        <label for=\\\"url\\\">Url del pod</label>\\r\\n        <input type=\\\"text\\\" [(ngModel)]=\\\"podUrl\\\" class=\\\"form-control\\\" id=\\\"url\\\">\\r\\n    </div>\\r\\n\\r\\n    <button class=\\\"btn btn-success\\\" (click)=\\\"onSubmit()\\\" [disabled]=\\\"podUrl.trim().length == 0\\\">Agregar</button>\\r\\n</div>\\r\\n\"","import {Component} from '@angular/core';\r\nimport {RdfService} from '../services/rdf.service';\r\nimport {Router} from '@angular/router';\r\n\r\n@Component({\r\n    selector: 'app-contact-add',\r\n    templateUrl: './contact-add.component.html',\r\n    styleUrls: ['./contact-add.component.css']\r\n})\r\nexport class ContactAddComponent {\r\n    podUrl = '';\r\n    nick = '';\r\n\r\n    constructor(private rdf: RdfService, private router: Router) {\r\n\r\n    }\r\n\r\n    async onSubmit() {\r\n        const me = await this.rdf.getMe();\r\n        if (me == null) {\r\n            this.router.navigateByUrl('/login');\r\n        } else {\r\n            this.rdf.addContact(me, this.podUrl);\r\n            this.podUrl = '';\r\n            this.nick = '';\r\n        }\r\n    }\r\n\r\n}\r\n","export class Contact {\r\n    constructor(url: string, nick: string) {\r\n        this._url = url;\r\n        this._nick = nick;\r\n    }\r\n\r\n    private _url: string;\r\n\r\n    get url(): string {\r\n        return this._url;\r\n    }\r\n\r\n    set url(value: string) {\r\n        this._url = value;\r\n    }\r\n\r\n    private _nick: string;\r\n\r\n    get nick(): string {\r\n        return this._nick;\r\n    }\r\n\r\n    set nick(value: string) {\r\n        this._nick = value;\r\n    }\r\n}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbnRhY3QvY29udGFjdC5jb21wb25lbnQuY3NzIn0= */\"","module.exports = \"<p>\\r\\n  {{contact.url}}\\r\\n</p>\\r\\n\"","import {Component, Input, OnInit} from '@angular/core';\r\nimport {Contact} from '../contact';\r\n\r\n@Component({\r\n    selector: 'app-contacto',\r\n    templateUrl: './contact.component.html',\r\n    styleUrls: ['./contact.component.css']\r\n})\r\nexport class ContactComponent {\r\n    @Input('contact') contact: Contact;\r\n\r\n    constructor() {\r\n    }\r\n}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbnRhY3RzL2NvbnRhY3RzLmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"<div class=\\\"col-md-6\\\">\\r\\n    <h1 class=\\\"display-4\\\">Contactos</h1>\\r\\n    <nav>\\r\\n        <button (click)=\\\"addContact()\\\">Aadir contacto</button>\\r\\n    </nav>\\r\\n    <ul>\\r\\n        <app-contacto *ngFor=\\\"let contact of contacts\\\" [contact]=\\\"contact\\\"\\r\\n                      (click)=\\\"selectContact(contact)\\\"></app-contacto>\\r\\n    </ul>\\r\\n</div>\\r\\n\"","import {Component, Inject, OnInit} from '@angular/core';\r\nimport {RdfService} from '../services/rdf.service';\r\nimport {Router} from '@angular/router';\r\nimport {NamedNode} from 'rdf-js';\r\nimport {Contact} from '../contact';\r\nimport {MessagingComponent} from '../message/messaging.component';\r\n\r\n@Component({\r\n  selector: 'app-contactos',\r\n  templateUrl: './contacts.component.html',\r\n  styleUrls: ['./contacts.component.css']\r\n})\r\nexport class ContactsComponent {\r\n  contacts: Contact[];\r\n  selectedContact: Contact;\r\n\r\n  constructor(@Inject(MessagingComponent) private parent: MessagingComponent, private rdf: RdfService, private router: Router) {\r\n    this.contacts = [];\r\n    this.loadContacts();\r\n  }\r\n\r\n  selectContact(contact: Contact) {\r\n    this.selectedContact = contact;\r\n    this.parent.selectContact(contact);\r\n  }\r\n\r\n  async loadContacts() {\r\n    const me = await this.rdf.getMe();\r\n    if (me == null) {\r\n      this.router.navigateByUrl('/login');\r\n    } else {\r\n      const contacts = await this.rdf.getContacts(me);\r\n      console.log(contacts);\r\n      if ((<NamedNode>contacts).value) {\r\n        this.insertContact(contacts);\r\n      } else {\r\n        this.insertContacts(contacts);\r\n      }\r\n    }\r\n  }\r\n\r\n  insertContacts(results: [NamedNode]) {\r\n    results.forEach(function (value) {\r\n      this.insertContact(value.object);\r\n    }.bind(this));\r\n  }\r\n\r\n  insertContact(node: NamedNode) {\r\n    this.contacts.push(new Contact(node.value, \"Nombre\"));\r\n  }\r\n\r\n  addContact() {\r\n    this.router.navigateByUrl('contact-add');\r\n  }\r\n}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Rhc2hib2FyZC9kYXNoYm9hcmQuY29tcG9uZW50LmNzcyJ9 */\"","module.exports = \"<div class=\\\"dashboard\\\">\\r\\n  <p>Your webId is {{ session.webId }}</p>\\r\\n  <ul>\\r\\n    <li><a [routerLink]=\\\"['/card']\\\">Profile</a></li>\\r\\n    <li><a (click)=\\\"onSignOut()\\\">Signout</a></li>\\r\\n  </ul>\\r\\n</div>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\n// import { currentSession } from 'solid-auth-client';\r\n\r\n// Services\r\nimport { AuthService } from '../services/solid.auth.service';\r\n\r\nclass Session {\r\n  constructor() {}\r\n\r\n  webId: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-dashboard',\r\n  templateUrl: './dashboard.component.html',\r\n  styleUrls: ['./dashboard.component.css']\r\n})\r\nexport class DashboardComponent implements OnInit {\r\n  session: Session = new Session();\r\n\r\n  constructor(private auth: AuthService, private route: ActivatedRoute) {}\r\n\r\n  ngOnInit() {\r\n    console.log('hello');\r\n    this.loadSession();\r\n  }\r\n\r\n  loadSession = async () => {\r\n    // this.session = await currentSession();\r\n  }\r\n\r\n  onSignOut = () => {\r\n    this.auth.solidSignOut();\r\n  }\r\n\r\n}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xvZ2luLXBvcHVwL2xvZ2luLXBvcHVwLmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"<div id=\\\"app-container\\\">Loading...</div>\\r\\n\\r\\n\\r\\n\"","import { Component, OnInit, ElementRef } from '@angular/core';\r\ndeclare let popup: any;\r\n\r\n@Component({\r\n  selector: 'app-login-popup',\r\n  templateUrl: './login-popup.component.html',\r\n  styleUrls: ['./login-popup.component.css']\r\n})\r\nexport class LoginPopupComponent implements OnInit {\r\n\r\n  constructor(private elementRef: ElementRef) {}\r\n\r\n  ngOnInit() {\r\n    this.runScript();\r\n  }\r\n\r\n  runScript () {\r\n    const s = document.createElement('script');\r\n    s.type = 'text/javascript';\r\n    s.src = '/assets/js/libs/popup.js';\r\n    this.elementRef.nativeElement.appendChild(s);\r\n    // s.onload = () => this.triggerDuo();\r\n  }\r\n\r\n}\r\n","module.exports = \"\\r\\n.login-page {\\r\\n  text-align: center;\\r\\n  font-family: 'Roboto', sans-serif;\\r\\n  color: #666;\\r\\n}\\r\\n\\r\\n.login-page h1 {\\r\\n  font-size: 38px;\\r\\n  text-transform: uppercase;\\r\\n  font-weight: bold;\\r\\n  line-height: 50px;\\r\\n  letter-spacing: 1.9px;\\r\\n  padding-top: 12px;\\r\\n  margin-top: 0px;\\r\\n}\\r\\n\\r\\n.login-page h2 {\\r\\n  color: #666;\\r\\n\\r\\n  font-size: 16px;\\r\\n  font-weight: 500;\\r\\n  letter-spacing: 1px;\\r\\n  line-height: 21px;\\r\\n  margin-top: 48px;\\r\\n}\\r\\n\\r\\n.login-page .small-link {\\r\\n  font-size: 12px;\\r\\n  color: #666;\\r\\n  letter-spacing: 0.75px;\\r\\n  line-height: 16px;\\r\\n}\\r\\n\\r\\n.login-page .registration-link {\\r\\n  margin-top: 38px;\\r\\n}\\r\\n\\r\\n.login-page .registration-link p {\\r\\n  font-size: 16px;\\r\\n  color: #666;\\r\\n  letter-spacing: 1px;\\r\\n}\\r\\n\\r\\n.login-page .item-divider {\\r\\n  box-sizing:border-box;\\r\\n  height: 1px;\\r\\n  width: 354px;\\r\\n  border-bottom: 1px solid #E0E0E0;\\r\\n  position: absolute;\\r\\n  bottom:-8px; left:-9px;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbG9naW4vbG9naW4uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0E7RUFDRSxrQkFBa0I7RUFDbEIsaUNBQWlDO0VBQ2pDLFdBQVc7QUFDYjs7QUFFQTtFQUNFLGVBQWU7RUFDZix5QkFBeUI7RUFDekIsaUJBQWlCO0VBQ2pCLGlCQUFpQjtFQUNqQixxQkFBcUI7RUFDckIsaUJBQWlCO0VBQ2pCLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxXQUFXOztFQUVYLGVBQWU7RUFDZixnQkFBZ0I7RUFDaEIsbUJBQW1CO0VBQ25CLGlCQUFpQjtFQUNqQixnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsV0FBVztFQUNYLHNCQUFzQjtFQUN0QixpQkFBaUI7QUFDbkI7O0FBRUE7RUFDRSxnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsV0FBVztFQUNYLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLHFCQUFxQjtFQUNyQixXQUFXO0VBQ1gsWUFBWTtFQUNaLGdDQUFnQztFQUNoQyxrQkFBa0I7RUFDbEIsV0FBVyxFQUFFLFNBQVM7QUFDeEIiLCJmaWxlIjoic3JjL2FwcC9sb2dpbi9sb2dpbi5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbi5sb2dpbi1wYWdlIHtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgZm9udC1mYW1pbHk6ICdSb2JvdG8nLCBzYW5zLXNlcmlmO1xyXG4gIGNvbG9yOiAjNjY2O1xyXG59XHJcblxyXG4ubG9naW4tcGFnZSBoMSB7XHJcbiAgZm9udC1zaXplOiAzOHB4O1xyXG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XHJcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgbGluZS1oZWlnaHQ6IDUwcHg7XHJcbiAgbGV0dGVyLXNwYWNpbmc6IDEuOXB4O1xyXG4gIHBhZGRpbmctdG9wOiAxMnB4O1xyXG4gIG1hcmdpbi10b3A6IDBweDtcclxufVxyXG5cclxuLmxvZ2luLXBhZ2UgaDIge1xyXG4gIGNvbG9yOiAjNjY2O1xyXG5cclxuICBmb250LXNpemU6IDE2cHg7XHJcbiAgZm9udC13ZWlnaHQ6IDUwMDtcclxuICBsZXR0ZXItc3BhY2luZzogMXB4O1xyXG4gIGxpbmUtaGVpZ2h0OiAyMXB4O1xyXG4gIG1hcmdpbi10b3A6IDQ4cHg7XHJcbn1cclxuXHJcbi5sb2dpbi1wYWdlIC5zbWFsbC1saW5rIHtcclxuICBmb250LXNpemU6IDEycHg7XHJcbiAgY29sb3I6ICM2NjY7XHJcbiAgbGV0dGVyLXNwYWNpbmc6IDAuNzVweDtcclxuICBsaW5lLWhlaWdodDogMTZweDtcclxufVxyXG5cclxuLmxvZ2luLXBhZ2UgLnJlZ2lzdHJhdGlvbi1saW5rIHtcclxuICBtYXJnaW4tdG9wOiAzOHB4O1xyXG59XHJcblxyXG4ubG9naW4tcGFnZSAucmVnaXN0cmF0aW9uLWxpbmsgcCB7XHJcbiAgZm9udC1zaXplOiAxNnB4O1xyXG4gIGNvbG9yOiAjNjY2O1xyXG4gIGxldHRlci1zcGFjaW5nOiAxcHg7XHJcbn1cclxuXHJcbi5sb2dpbi1wYWdlIC5pdGVtLWRpdmlkZXIge1xyXG4gIGJveC1zaXppbmc6Ym9yZGVyLWJveDtcclxuICBoZWlnaHQ6IDFweDtcclxuICB3aWR0aDogMzU0cHg7XHJcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNFMEUwRTA7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIGJvdHRvbTotOHB4OyBsZWZ0Oi05cHg7XHJcbn1cclxuIl19 */\"","module.exports = \"<div class=\\\"login-page\\\">\\r\\n\\r\\n  <!-- APP LOGO -->\\r\\n  <div style=\\\"margin-top:60px;\\\">\\r\\n    <i class=\\\"fas fa-user-circle\\\" style=\\\"font-size: 64px;\\\"></i>\\r\\n  </div>\\r\\n\\r\\n  <!-- APP NAME -->\\r\\n  <h1>\\r\\n    Profile Demo App\\r\\n  </h1>\\r\\n\\r\\n  <!-- LOGIN TITLE -->\\r\\n  <h2>\\r\\n    Login with Solid Identity\\r\\n  </h2>\\r\\n\\r\\n  <!-- PROVIDER SELECTION -->\\r\\n  <div style=\\\"margin-top: 10px;\\\">\\r\\n    <ng-select class=\\\"login-select\\\"\\r\\n               bindLabel=\\\"name\\\"\\r\\n               bindValue=\\\"loginUrl\\\"\\r\\n               placeholder=\\\"Select ID Provider\\\"\\r\\n               dropdownPosition=\\\"bottom\\\"\\r\\n               [items]=\\\"identityProviders\\\"\\r\\n               [(ngModel)]=\\\"selectedProviderUrl\\\"\\r\\n               style=\\\"width: 360px; height: 48px; margin-left: auto; margin-right: auto;\\\">\\r\\n\\r\\n      <!-- DROPDOWN TEMPLATE -->\\r\\n      <ng-template ng-option-tmp let-item=\\\"item\\\">\\r\\n        <div style=\\\"height:40px; padding-top:10px; position: relative;\\\">\\r\\n          <img [src]=\\\"item.image\\\" style=\\\"float: left; height: 32px; width: 32px; margin-top:-5px;\\\" />\\r\\n          <span style=\\\"float: left; margin-left: 10px;\\\">{{ item.name }}</span>\\r\\n          <div style=\\\"clear: both;\\\"></div>\\r\\n          <div class=\\\"item-divider\\\"></div>\\r\\n        </div>\\r\\n      </ng-template>\\r\\n\\r\\n    </ng-select>\\r\\n    <input type=\\\"text\\\"\\r\\n           class=\\\"wide-text\\\"\\r\\n           *ngIf=\\\"selectedProviderUrl===null\\\"\\r\\n           placeholder=\\\"Enter WebID\\\"\\r\\n           style=\\\"margin-top:10px; padding: 12px 10px; width: 340px; height: 16px; display: block; margin-left: auto; margin-right: auto;\\\"\\r\\n           [(ngModel)]=\\\"customProviderUrl\\\" />\\r\\n    <button class=\\\"wide-button\\\" (click)=\\\"onLogin()\\\" *ngIf=\\\"selectedProviderUrl !== undefined || customProviderUrl !== undefined\\\" [disabled]=\\\"selectedProviderUrl===null && !customProviderUrl\\\" style=\\\"margin-top:10px;\\\">Go</button>\\r\\n  </div>\\r\\n\\r\\n  <!-- REGISTRATION -->\\r\\n  <div class=\\\"registration-link\\\">\\r\\n    <p style=\\\"margin: 12px;\\\">Don't have a Solid Identity?</p>\\r\\n    <button class=\\\"wide-button\\\" (click)=\\\"goToRegistration()\\\">Register</button>\\r\\n  </div>\\r\\n\\r\\n  <!-- HELP -->\\r\\n  <div style=\\\"margin-top: 48px;\\\">\\r\\n    <a href=\\\"https://solid.mit.edu\\\" target=\\\"_blank\\\" class=\\\"small-link\\\">\\r\\n      <i class=\\\"fas fa-info-circle\\\"></i> What is a Solid Identity?\\r\\n    </a>\\r\\n  </div>\\r\\n\\r\\n</div>\\r\\n  \\r\\n\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n// Auth Service\r\nimport { AuthService } from '../services/solid.auth.service';\r\nimport { SolidProvider } from '../models/solid-provider.model';\r\n\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css']\r\n})\r\nexport class LoginComponent implements OnInit {\r\n\r\n  constructor(private auth: AuthService, private router: Router) { }\r\n\r\n  /**\r\n   * A list of Solid Identity Providers\r\n   * @type {SolidProvider[]}\r\n   */\r\n  identityProviders: SolidProvider[];\r\n  selectedProviderUrl: string;\r\n  customProviderUrl: string;\r\n\r\n  ngOnInit() {\r\n    // If we're authenticated, go to profile\r\n    if (localStorage.getItem('solid-auth-client')) {\r\n      this.router.navigateByUrl('/card');\r\n    }\r\n\r\n    this.identityProviders = this.auth.getIdentityProviders();\r\n  }\r\n\r\n  /*\r\n  *  Alternate login-popup function for Solid. See service for more details.\r\n  */\r\n  onLoginPopup = async () => {\r\n    this.auth.solidLoginPopup();\r\n  }\r\n\r\n  onLogin = async () => {\r\n    const idp: string = this.selectedProviderUrl ? this.selectedProviderUrl : this.customProviderUrl;\r\n\r\n    if (idp) {\r\n      try {\r\n        this.auth.solidLogin(idp);\r\n      } catch (err) {\r\n        console.log('An error has occurred logging in: ' + err);\r\n      }\r\n    }\r\n  }\r\n\r\n  goToRegistration() {\r\n    this.router.navigateByUrl('/register');\r\n  }\r\n}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21lc3NhZ2UvbWVzc2FnaW5nLmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"<div class=\\\"row\\\">\\r\\n  <app-contactos></app-contactos>\\r\\n  <app-mensajes></app-mensajes>\\r\\n</div>\\r\\n\"","import {Component, OnInit, ViewChild} from '@angular/core';\r\nimport {Contact} from '../contact';\r\nimport {MessagesComponent} from '../messages/messages.component';\r\n\r\n@Component({\r\n    selector: 'app-mensajeria',\r\n    templateUrl: './messaging.component.html',\r\n    styleUrls: ['./messaging.component.css']\r\n})\r\nexport class MessagingComponent implements OnInit {\r\n    @ViewChild(MessagesComponent) messages: MessagesComponent;\r\n\r\n    constructor() {\r\n    }\r\n\r\n    ngOnInit() {\r\n    }\r\n\r\n    selectContact(contact: Contact): void {\r\n        this.messages.selectConversation(contact);\r\n    }\r\n}\r\n","import {Component, Input, OnInit} from '@angular/core';\r\nimport {RdfService} from '../services/rdf.service';\r\nimport {Router} from '@angular/router';\r\n\r\nexport class Message {\r\n\r\n  content: string;\r\n  date: Date;\r\n  recipientURL: string;\r\n  senderURL: string;\r\n\r\n  constructor() { }\r\n\r\n  setContent(contenido) {\r\n    this.content = contenido;\r\n    this.date = new Date();\r\n  }\r\n\r\n  getContent() {\r\n    return this.content;\r\n  }\r\n\r\n  setDate(date) {\r\n    this.date = date;\r\n  }\r\n\r\n  getDate() {\r\n    return this.date;\r\n  }\r\n\r\n  setRecipientURL(recipientURL) {\r\n    this.recipientURL = recipientURL;\r\n  }\r\n\r\n  getRecipientURL() {\r\n    return this.recipientURL;\r\n  }\r\n\r\n  getSenderURL() {\r\n    return this.senderURL;\r\n  }\r\n\r\n  setSenderURL(senderURL) {\r\n    this.senderURL = senderURL;\r\n  }\r\n\r\n  toString() {\r\n    return this.senderURL + ';' + this.recipientURL + ';' + this.date.toISOString() + ';' + this.content;\r\n  }\r\n}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21lc3NhZ2VzL21lc3NhZ2VzLmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"<div class=\\\"col-md-20\\\">\\r\\n  <p>Listado Mensajes</p>\\r\\n    <p *ngIf=\\\"contact != null\\\">\\r\\n        {{contact.url}}</p>\\r\\n  <ul>\\r\\n    <li *ngFor=\\\"let message of messages\\\">\\r\\n      {{ message }}\\r\\n    </li>\\r\\n  </ul>\\r\\n</div>\\r\\n<div class=\\\"container\\\">\\r\\n  <div class=\\\"form-group\\\">\\r\\n    <label for=\\\"messageText\\\">Mensaje</label>\\r\\n    <input type=\\\"text\\\" [(ngModel)]=\\\"content\\\" class=\\\"form-control\\\" id=\\\"messageText\\\">\\r\\n  </div>\\r\\n\\r\\n  <button class=\\\"btn btn-success\\\" (click)=\\\"onSubmit()\\\" [disabled]=\\\"content.trim().length == 0\\\">Enviar</button>\\r\\n  <p>\\r\\n    {{result}}\\r\\n  </p>\\r\\n</div>\\r\\n\"","import {Component, Input, OnInit} from '@angular/core';\r\nimport {RdfService} from '../services/rdf.service';\r\nimport {Router} from '@angular/router';\r\nimport {Message} from './message';\r\nimport {Contact} from '../contact';\r\n\r\ndeclare let $rdf: any;\r\n\r\n@Component({\r\n    selector: 'app-mensajes',\r\n    templateUrl: './messages.component.html',\r\n    styleUrls: ['./messages.component.css']\r\n})\r\n\r\nexport class MessagesComponent implements OnInit {\r\n  contact: Contact;\r\n\r\n    content = '';\r\n    @Input('result') result: string;\r\n    messages;\r\n\r\n    constructor(private rdf: RdfService, private router: Router) {\r\n    }\r\n\r\n    async onSubmit() {\r\n        if (this.contact != null) {\r\n            const me = await this.rdf.getMe();\r\n            if (me == null) {\r\n                this.router.navigateByUrl('/login');\r\n            } else {\r\n                const message = new Message();\r\n                message.setSenderURL(me.uri);\r\n                message.setContent(this.content.replace(';', ','));\r\n                this.content = '';\r\n                // Debiera recibir un receptor\r\n                const selectedContact = this.contact.url;\r\n                const urlSelectedContact = selectedContact.split('/')[2];\r\n                message.setRecipientURL(urlSelectedContact);\r\n                this.rdf.addMessage(message).then(() => {\r\n                    this.result = 'Se ha enviado con xito';\r\n                    this.delay(2000).then(() => {\r\n                        this.result = '';\r\n                        this.showMessages();\r\n                    });\r\n                }, err => {\r\n                    this.result = 'Error en el envo';\r\n                });\r\n            }\r\n        } else {\r\n            this.result = 'Debes seleccionar un contacto primero';\r\n            await this.delay(1000);\r\n            this.result = '';\r\n        }\r\n    }\r\n\r\n    showMessages = async () => {\r\n        if (this.contact != null) {\r\n            const me = await this.rdf.getMe();\r\n            const selectedContact = this.contact.url;\r\n            const urlSelectedContact = selectedContact.split('/')[2];\r\n            await this.rdf.readConversation(urlSelectedContact).then(messages => {\r\n                const messagesFormatted = [];\r\n                messages.forEach(function (message) {\r\n                    let author = 'Yo';\r\n                    if (message.getSenderURL() !== me.uri) {\r\n                        author = urlSelectedContact.split('.')[0];\r\n                    }\r\n                    messagesFormatted.push(author + ' - ' + message.getDate().toLocaleString('es-ES') + ' - ' + message.getContent());\r\n                });\r\n                this.messages = messagesFormatted;\r\n            });\r\n        }\r\n    }\r\n\r\n    delay(ms: number) {\r\n        return new Promise( resolve => setTimeout(resolve, ms) );\r\n    }\r\n\r\n    async ngOnInit() {\r\n        setInterval(this.showMessages, 2000);\r\n    }\r\n\r\n  selectConversation(contact: Contact) {\r\n    this.contact = contact;\r\n    this.showMessages();\r\n  }\r\n}\r\n","module.exports = \".registration {\\r\\n  text-align: center;\\r\\n  font-family: 'Roboto', sans-serif;\\r\\n}\\r\\n\\r\\n.registration .header-bar {\\r\\n  margin: 0px;\\r\\n  height: 44px;\\r\\n  width: calc(100% + 16px);\\r\\n  background-color: #3D6DEB;\\r\\n  color: #fff;\\r\\n  position: absolute;\\r\\n  top: 0;\\r\\n  left: 0;\\r\\n}\\r\\n\\r\\n.registration .header-bar p {\\r\\n  text-align: center;\\r\\n  font-family: 'Roboto', sans-serif;\\r\\n  font-weight: bold;\\r\\n  font-size: 14px;\\r\\n  letter-spacing: 1px;\\r\\n  line-height: 15px;\\r\\n}\\r\\n\\r\\n.registration .header-text {\\r\\n  margin-top:92px;\\r\\n  width: 360px;\\r\\n  margin-left: auto;\\r\\n  margin-right: auto;\\r\\n  font-size: 14px;\\r\\n  color: #666;\\r\\n}\\r\\n\\r\\n.registration .header-text a {\\r\\n  color: #666;\\r\\n  font-size: 12px;\\r\\n}\\r\\n\\r\\n.registration .provider-card-container {\\r\\n  margin-top: 28px;\\r\\n}\\r\\n\\r\\n.registration .provider-card {\\r\\n  height: 140px;\\r\\n  width: 320px;\\r\\n  border: 1px solid #DAE0E6;\\r\\n  border-radius: 2px;\\r\\n  background-color: #fff;\\r\\n  margin: 10px;\\r\\n  display: inline-block;\\r\\n  box-shadow: #DAE0E6 1px 1px 6px;\\r\\n}\\r\\n\\r\\n.registration .provider-card .provider-logo {\\r\\n  height: 44px;\\r\\n  width: 44px;\\r\\n  margin-left: auto;\\r\\n  margin-right: auto;\\r\\n  margin-top: 16px;\\r\\n}\\r\\n\\r\\n.registration .provider-card h2 {\\r\\n  color: #656E75;\\r\\n  font-size: 18px;\\r\\n  margin-top: -2px;\\r\\n  letter-spacing: 0.9px;\\r\\n  line-height: 24px;\\r\\n}\\r\\n\\r\\n.registration .provider-card p {\\r\\n  color: #656E75;\\r\\n  font-size: 12px;\\r\\n  line-height: 16px;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcmVnaXN0ZXIvcmVnaXN0ZXIuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFrQjtFQUNsQixpQ0FBaUM7QUFDbkM7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsWUFBWTtFQUNaLHdCQUF3QjtFQUN4Qix5QkFBeUI7RUFDekIsV0FBVztFQUNYLGtCQUFrQjtFQUNsQixNQUFNO0VBQ04sT0FBTztBQUNUOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLGlDQUFpQztFQUNqQyxpQkFBaUI7RUFDakIsZUFBZTtFQUNmLG1CQUFtQjtFQUNuQixpQkFBaUI7QUFDbkI7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsWUFBWTtFQUNaLGlCQUFpQjtFQUNqQixrQkFBa0I7RUFDbEIsZUFBZTtFQUNmLFdBQVc7QUFDYjs7QUFFQTtFQUNFLFdBQVc7RUFDWCxlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLFlBQVk7RUFDWix5QkFBeUI7RUFDekIsa0JBQWtCO0VBQ2xCLHNCQUFzQjtFQUN0QixZQUFZO0VBQ1oscUJBQXFCO0VBQ3JCLCtCQUErQjtBQUNqQzs7QUFFQTtFQUNFLFlBQVk7RUFDWixXQUFXO0VBQ1gsaUJBQWlCO0VBQ2pCLGtCQUFrQjtFQUNsQixnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxjQUFjO0VBQ2QsZUFBZTtFQUNmLGdCQUFnQjtFQUNoQixxQkFBcUI7RUFDckIsaUJBQWlCO0FBQ25COztBQUNBO0VBQ0UsY0FBYztFQUNkLGVBQWU7RUFDZixpQkFBaUI7QUFDbkIiLCJmaWxlIjoic3JjL2FwcC9yZWdpc3Rlci9yZWdpc3Rlci5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnJlZ2lzdHJhdGlvbiB7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIGZvbnQtZmFtaWx5OiAnUm9ib3RvJywgc2Fucy1zZXJpZjtcclxufVxyXG5cclxuLnJlZ2lzdHJhdGlvbiAuaGVhZGVyLWJhciB7XHJcbiAgbWFyZ2luOiAwcHg7XHJcbiAgaGVpZ2h0OiA0NHB4O1xyXG4gIHdpZHRoOiBjYWxjKDEwMCUgKyAxNnB4KTtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjM0Q2REVCO1xyXG4gIGNvbG9yOiAjZmZmO1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICB0b3A6IDA7XHJcbiAgbGVmdDogMDtcclxufVxyXG5cclxuLnJlZ2lzdHJhdGlvbiAuaGVhZGVyLWJhciBwIHtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgZm9udC1mYW1pbHk6ICdSb2JvdG8nLCBzYW5zLXNlcmlmO1xyXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gIGZvbnQtc2l6ZTogMTRweDtcclxuICBsZXR0ZXItc3BhY2luZzogMXB4O1xyXG4gIGxpbmUtaGVpZ2h0OiAxNXB4O1xyXG59XHJcblxyXG4ucmVnaXN0cmF0aW9uIC5oZWFkZXItdGV4dCB7XHJcbiAgbWFyZ2luLXRvcDo5MnB4O1xyXG4gIHdpZHRoOiAzNjBweDtcclxuICBtYXJnaW4tbGVmdDogYXV0bztcclxuICBtYXJnaW4tcmlnaHQ6IGF1dG87XHJcbiAgZm9udC1zaXplOiAxNHB4O1xyXG4gIGNvbG9yOiAjNjY2O1xyXG59XHJcblxyXG4ucmVnaXN0cmF0aW9uIC5oZWFkZXItdGV4dCBhIHtcclxuICBjb2xvcjogIzY2NjtcclxuICBmb250LXNpemU6IDEycHg7XHJcbn1cclxuXHJcbi5yZWdpc3RyYXRpb24gLnByb3ZpZGVyLWNhcmQtY29udGFpbmVyIHtcclxuICBtYXJnaW4tdG9wOiAyOHB4O1xyXG59XHJcblxyXG4ucmVnaXN0cmF0aW9uIC5wcm92aWRlci1jYXJkIHtcclxuICBoZWlnaHQ6IDE0MHB4O1xyXG4gIHdpZHRoOiAzMjBweDtcclxuICBib3JkZXI6IDFweCBzb2xpZCAjREFFMEU2O1xyXG4gIGJvcmRlci1yYWRpdXM6IDJweDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xyXG4gIG1hcmdpbjogMTBweDtcclxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgYm94LXNoYWRvdzogI0RBRTBFNiAxcHggMXB4IDZweDtcclxufVxyXG5cclxuLnJlZ2lzdHJhdGlvbiAucHJvdmlkZXItY2FyZCAucHJvdmlkZXItbG9nbyB7XHJcbiAgaGVpZ2h0OiA0NHB4O1xyXG4gIHdpZHRoOiA0NHB4O1xyXG4gIG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG4gIG1hcmdpbi1yaWdodDogYXV0bztcclxuICBtYXJnaW4tdG9wOiAxNnB4O1xyXG59XHJcblxyXG4ucmVnaXN0cmF0aW9uIC5wcm92aWRlci1jYXJkIGgyIHtcclxuICBjb2xvcjogIzY1NkU3NTtcclxuICBmb250LXNpemU6IDE4cHg7XHJcbiAgbWFyZ2luLXRvcDogLTJweDtcclxuICBsZXR0ZXItc3BhY2luZzogMC45cHg7XHJcbiAgbGluZS1oZWlnaHQ6IDI0cHg7XHJcbn1cclxuLnJlZ2lzdHJhdGlvbiAucHJvdmlkZXItY2FyZCBwIHtcclxuICBjb2xvcjogIzY1NkU3NTtcclxuICBmb250LXNpemU6IDEycHg7XHJcbiAgbGluZS1oZWlnaHQ6IDE2cHg7XHJcbn1cclxuIl19 */\"","module.exports = \"<div class=\\\"registration\\\">\\r\\n  <!-- Header Bar -->\\r\\n  <div class=\\\"header-bar\\\">\\r\\n    <p>Select Solid Identity Provider</p>\\r\\n  </div>\\r\\n\\r\\n  <!-- Header Text -->\\r\\n  <div class=\\\"header-text\\\">\\r\\n    <p>\\r\\n      With a Solid Identity your personal data is stored securely in a POD. You control who has access to it.\\r\\n    </p>\\r\\n    <a href=\\\"https://solid.mit.edu\\\" target=\\\"_blank\\\">\\r\\n      Learn more about Solid IDs and PODs\\r\\n    </a>\\r\\n  </div>\\r\\n\\r\\n  <!-- Provider cards -->\\r\\n  <div class=\\\"provider-card-container\\\">\\r\\n    <div class=\\\"provider-card\\\" *ngFor=\\\"let provider of availableProviders\\\">\\r\\n      <img [src]=\\\"provider.image\\\" class=\\\"provider-logo\\\">\\r\\n      <h2>{{ provider.name }}</h2>\\r\\n      <p>{{ provider.desc }}</p>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n</div>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { AuthService } from '../services/solid.auth.service';\r\n\r\n@Component({\r\n  selector: 'app-register',\r\n  templateUrl: './register.component.html',\r\n  styleUrls: ['./register.component.css']\r\n})\r\nexport class RegisterComponent implements OnInit {\r\n  availableProviders: any[];\r\n\r\n  constructor(private auth: AuthService) { }\r\n\r\n  ngOnInit() {\r\n    this.availableProviders = this.auth.getIdentityProviders();\r\n    this.availableProviders = this.availableProviders.filter(idp => idp.providerLoginUrl !== null);\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport {\r\n  CanActivate,\r\n  ActivatedRouteSnapshot,\r\n  RouterStateSnapshot,\r\n  Router\r\n} from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\nimport { map, take, tap } from 'rxjs/operators';\r\n\r\nimport { AuthService } from './solid.auth.service';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class AuthGuard implements CanActivate {\r\n  constructor(private auth: AuthService, private router: Router) {}\r\n\r\n  canActivate(\r\n    next: ActivatedRouteSnapshot,\r\n    state: RouterStateSnapshot\r\n  ): Observable<boolean> | Promise<boolean> | boolean {\r\n    const isLoggedIn = localStorage.getItem('solid-auth-client') ? true : false;\r\n\r\n    if (!isLoggedIn) {\r\n      this.router.navigateByUrl('/login');\r\n    }\r\n\r\n    return isLoggedIn; /* this.auth.session.pipe(\r\n      take(1),\r\n      map(session => !!session),\r\n      tap(loggedIn => {\r\n        if (!loggedIn) {\r\n          return this.router.navigate(['/']);\r\n        }\r\n      })\r\n    );*/\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\nimport * as $rdf from 'rdflib';\r\n\r\nconst folderType = 'folder';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class FoldersManagerService {\r\n\r\n  constructor() { }\r\n\r\n  getStats = (graph, subjectName): {[k: string]: any} => {\r\n    const subjectNode = $rdf.sym(subjectName);\r\n    const mod = $rdf.sym('http://purl.org/dc/terms/modified');\r\n    const size = $rdf.sym('http://www.w3.org/ns/posix/stat#size');\r\n    const mtime = $rdf.sym('http://www.w3.org/ns/posix/stat#mtime');\r\n    let  modified = graph.any(subjectNode, mod, undefined);\r\n    if (typeof(modified) === undefined) {\r\n      throw new class implements Error {\r\n        message: string;\r\n        name: string;\r\n        stack: string;\r\n      };\r\n    } else {\r\n      modified = modified.value;\r\n    }\r\n    return {\r\n      modified: modified,\r\n      size: graph.any(subjectNode, size, undefined).value,\r\n      mtime: graph.any(subjectNode, mtime, undefined).value,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * @param {$rdf.IndexedFormula} graph a $rdf.graph() database instance\r\n   * @param {string} url location of the folder\r\n   * @returns {string} content mime-type of a file, If it's a folder, return 'folder', 'unknown' for not sure\r\n   */\r\n  getFileType = (graph, url) => {\r\n    const folderNode = $rdf.sym(url);\r\n    const isAnInstanceOfClass = $rdf.sym('http://www.w3.org/1999/02/22-rdf-syntax-ns#type');\r\n    const types = graph.each(folderNode, isAnInstanceOfClass, undefined);\r\n    for (const type of types) {\r\n      const contentType = type.value;\r\n      if (contentType.match('ldp#BasicContainer')) {\r\n        return folderType;\r\n      }\r\n      if (contentType.match('http://www.w3.org/ns/iana/media-types/')) {\r\n        return contentType.replace('http://www.w3.org/ns/iana/media-types/', '').replace('#Resource', '');\r\n      }\r\n    }\r\n    return 'unknown';\r\n  }\r\n\r\n  getFolderItems = (graph, subj) => {\r\n    const contains = { folders : [], files   : [] };\r\n    const itemsTmp = graph.each(\r\n        $rdf.sym(subj),\r\n        $rdf.sym('http://www.w3.org/ns/ldp#contains'),\r\n        undefined\r\n    );\r\n    // self.log(\"Got \"+itemsTmp.length+\" items\")\r\n    for (let i = 0; i < itemsTmp.length; i++) {\r\n      const item = itemsTmp[i];\r\n      const newItem: {[k: string]: any} = {};\r\n      newItem.type = this.getFileType(graph, item.value);\r\n      const stats = this.getStats(graph, item.value);\r\n      newItem.modified = stats.modified;\r\n      newItem.size = stats.size;\r\n      newItem.mtime = stats.mtime;\r\n      newItem.label = decodeURIComponent(item.value).replace( /.*\\//, '');\r\n      if (newItem.type === folderType) {\r\n        item.value = item.value.replace(/[/]+/g, '/');\r\n        item.value = item.value.replace(/https:/, 'https:/');\r\n        const name = item.value.replace( /\\/$/, '');\r\n        newItem.name = name.replace( /.*\\//, '');\r\n        newItem.url  = item.value;\r\n        contains.folders.push(newItem);\r\n      } else {\r\n        newItem.url = item.value;\r\n        newItem.name = item.value.replace(/.*\\//, '');\r\n        contains.files.push(newItem);\r\n      }\r\n    }\r\n    return contains;\r\n  }\r\n\r\n  /**\r\n   * @param {$rdf.IndexedFormula} graph a $rdf.graph() database instance\r\n   * @param {string} url location of the folder\r\n   * @param {string} content raw content of the folder's RDF (turtle) representation,\r\n   * @returns {Object} FolderData\r\n   */\r\n  processFolder = (graph, url, content) => {\r\n    const items = this.getFolderItems(graph, url);\r\n    const stats = this.getStats(graph, url);\r\n    const fullName = url.replace(/\\/$/, '');\r\n    const name = fullName.replace(/.*\\//, '');\r\n    const parent = fullName.replace(name, '');\r\n    return {\r\n      type: folderType,\r\n      name,\r\n      url,\r\n      modified: stats.modified,\r\n      size: stats.size,\r\n      mtime: stats.mtime,\r\n      parent,\r\n      content,\r\n      folders: items.folders,\r\n      files: items.files,\r\n    };\r\n  }\r\n  guessFileType = (url) => {\r\n    const ext = url.replace(/.*\\./, '');\r\n    if (ext.match(/\\/$/)) {\r\n      return folderType;\r\n    }\r\n    if (ext.match(/(md|markdown)/)) {\r\n      return 'text/markdown';\r\n    }\r\n    if (ext.match(/html/)) {\r\n      return 'text/html';\r\n    }\r\n    if (ext.match(/xml/)) {\r\n      return 'text/xml';\r\n    }\r\n    if (ext.match(/ttl/)) {\r\n      return 'text/turtle';\r\n    }\r\n    if (ext.match(/n3/)) {\r\n      return 'text/n3';\r\n    }\r\n    if (ext.match(/rq/)) {\r\n      return 'application/sparql';\r\n    }\r\n    if (ext.match(/css/)) {\r\n      return 'text/css';\r\n    }\r\n    if (ext.match(/txt/)) {\r\n      return 'text/plain';\r\n    }\r\n    if (ext.match(/json/)) {\r\n      return 'application/json';\r\n    }\r\n    if (ext.match(/js/)) {\r\n      return 'application/javascript';\r\n    }\r\n    if (ext.match(/(png|gif|jpeg|tif)/)) {\r\n      return 'image';\r\n    }\r\n    if (ext.match(/(mp3|aif|ogg)/)) {\r\n      return 'audio';\r\n    }\r\n    if (ext.match(/(avi|mp4|mpeg)/)) {\r\n      return 'video';\r\n    }\r\n    return 'text/turtle';\r\n  }\r\n\r\n  /**\r\n   * @param {string} text RDF text that can be passed to $rdf.parse()\r\n   * @param {*} content the request body\r\n   * @param {string} contentType Content-Type of the request\r\n   * @returns {$rdf.IndexedFormula} a $rdf.graph() database instance with parsed RDF\r\n   */\r\n  text2graph = async (text, url, contentType) => {\r\n    return new Promise((resolve, reject) => {\r\n      contentType = contentType || this.guessFileType(url);\r\n      const graph = $rdf.graph();\r\n      try {\r\n        $rdf.parse(text, graph, url, contentType);\r\n        resolve(graph);\r\n      } catch (err) {\r\n        reject(err);\r\n      }\r\n    });\r\n  }\r\n}\r\n","import {Injectable} from '@angular/core';\r\nimport {SolidSession} from '../models/solid-session.model';\r\n\r\ndeclare let solid: any;\r\ndeclare let $rdf: any;\r\n// import * as $rdf from 'rdflib'\r\n\r\n// TODO: Remove any UI interaction from this service\r\nimport {NgForm} from '@angular/forms';\r\nimport {ToastrService} from 'ngx-toastr';\r\nimport {FoldersManagerService} from './folders-manager.service';\r\nimport {Message} from '../messages/message';\r\n\r\nconst VCARD = $rdf.Namespace('http://www.w3.org/2006/vcard/ns#');\r\nconst FOAF = $rdf.Namespace('http://xmlns.com/foaf/0.1/');\r\nconst SCHEMA = $rdf.Namespace('http://schema.org/Message');\r\n\r\nconst FolderName = 'dechat';\r\n\r\n/**\r\n * A service layer for RDF data manipulation using rdflib.js\r\n * @see https://solid.inrupt.com/docs/manipulating-ld-with-rdflib\r\n */\r\n@Injectable({\r\n    providedIn: 'root',\r\n})\r\nexport class RdfService {\r\n\r\n    session: SolidSession;\r\n    store = $rdf.graph();\r\n\r\n    /**\r\n     * A helper object that connects to the web, loads data, and saves it back. More powerful than using a simple\r\n     * store object.\r\n     * When you have a fetcher, then you also can ask the query engine to go fetch new linked data automatically\r\n     * as your query makes its way across the web.\r\n     * @see http://linkeddata.github.io/rdflib.js/doc/Fetcher.html\r\n     */\r\n    fetcher = $rdf.Fetcher;\r\n\r\n    /**\r\n     * The UpdateManager allows you to send small changes to the server to patch the data as your user changes data in\r\n     * real time. It also allows you to subscribe to changes other people make to the same file, keeping track of\r\n     * upstream and downstream changes, and signaling any conflict between them.\r\n     * @see http://linkeddata.github.io/rdflib.js/doc/UpdateManager.html\r\n     */\r\n    updateManager = $rdf.UpdateManager;\r\n\r\n    constructor(private toastr: ToastrService, private foldersManager: FoldersManagerService) {\r\n        const fetcherOptions = {};\r\n        this.fetcher = new $rdf.Fetcher(this.store, fetcherOptions);\r\n        this.updateManager = new $rdf.UpdateManager(this.store);\r\n        this.getSession();\r\n    }\r\n\r\n    getMe = async () => {\r\n        const session = await solid.auth.currentSession(localStorage);\r\n        return session == null ? null : this.getPod(session.webId);\r\n    };\r\n\r\n    getPod = (url: string): any => {\r\n        const store = new $rdf.IndexedFormula;\r\n        return store.sym(url);\r\n    };\r\n\r\n    getContacts = async (me) => {\r\n        const store = new $rdf.graph();\r\n        const res = await solid.auth.fetch(me.uri);\r\n        $rdf.parse(await res.text(), store, me.doc().uri, 'text/turtle');\r\n        return store.match(me, FOAF('knows'));\r\n    };\r\n\r\n    addContact = async (me, podUrl) => {\r\n        console.log(await solid.auth.fetch(me.uri));\r\n        const insertions = [];\r\n        insertions.push($rdf.st(me, FOAF('knows'), this.getPod(podUrl), me.doc()));\r\n        this.updateManager.update([], insertions, (response, success, message) => {\r\n            if (success) {\r\n                console.log('Contact added success');\r\n            } else {\r\n                console.error('Message: ' + message);\r\n            }\r\n        });\r\n    };\r\n\r\n    readConversation = async (urlPodTo) => {\r\n        const fileNameTo = urlPodTo + '3.txt';\r\n        const fileNameMe = (await this.getMe()).value.split('/')[2] + '3.txt';\r\n        const urlPodToComplete = 'https://' + urlPodTo + '/profile/card#me';\r\n        const urlMeDeChat = (await this.getMe()).value.split('/').slice(0, 3).join('/') + '/' + FolderName + '/' + fileNameTo;\r\n        const urlToDeChat = urlPodToComplete.split('/').slice(0, 3).join('/') + '/' + FolderName + '/' + fileNameMe;\r\n\r\n        const resMe = await solid.auth.fetch(urlMeDeChat);\r\n        const fileRawMe =  await resMe.text();\r\n\r\n        const resTo = await solid.auth.fetch(urlToDeChat);\r\n        const fileRawTo =  await resTo.text();\r\n        const allMessages = [];\r\n        await this.parseConversationFile(fileRawMe).then(parseMessageMe => {\r\n            this.parseConversationFile(fileRawTo).then(parseMessagesTo => {\r\n                allMessages.push(...parseMessagesTo);\r\n                allMessages.push(...parseMessageMe);\r\n                allMessages.sort(function(a, b) {\r\n                    return a.getDate().getTime() - b.getDate().getTime();\r\n                });\r\n                return allMessages;\r\n            });\r\n        });\r\n        return allMessages;\r\n    }\r\n\r\n    parseConversationFile = async (file) => {\r\n        const rows = file.split('\\n');\r\n        let rowSliced;\r\n        const mensajes = [];\r\n        rows.forEach(function (row) {\r\n            rowSliced = row.split(';');\r\n            if (rowSliced.length === 4) {\r\n                const message = new Message();\r\n                message.setSenderURL(rowSliced[0]);\r\n                message.setRecipientURL(rowSliced[1]);\r\n                message.setContent(rowSliced[3]);\r\n                message.setDate(new Date (rowSliced[2]));\r\n                mensajes.push(message);\r\n            }\r\n        });\r\n        return mensajes;\r\n    }\r\n\r\n    writeIntoConversationFile = async (urlPodTo, data) => {\r\n        await this.checkFolder();\r\n        const fileName = urlPodTo + '3.txt';\r\n        const url = (await this.getMe()).value.split('/').slice(0, 3).join('/') + '/' + FolderName;\r\n        return new Promise((resolve, reject) => {\r\n            this.readFile(url + '/' + fileName).then(res => {\r\n                resolve();\r\n                this.updateFile(url, fileName, res + '\\n' + data, null);\r\n            }, err => {\r\n                this.add(url, fileName, data, null);\r\n                this.writeIntoGrantFile(urlPodTo, fileName);\r\n            });\r\n        });\r\n    };\r\n\r\n    writeIntoGrantFile = async (urlPodTo, fileName) => {\r\n        await this.checkFolder();\r\n        const url = (await this.getMe()).value.split('/').slice(0, 3).join('/') + '/' + FolderName;\r\n        const data = this.getGrantText(urlPodTo, url + '/' + fileName);\r\n        return new Promise((resolve, reject) => {\r\n            this.readFile(url + '/' + fileName + '.acl').then(res => {\r\n                resolve();\r\n                this.updateFile(url, fileName + '.acl', data, null);\r\n                this.add(url, fileName + '.acl', data, null);\r\n            }, err => {\r\n                this.add(url, fileName + '.acl', data, null);\r\n            });\r\n        });\r\n    };\r\n\r\n    addMessage = async (message) => {\r\n        this.writeIntoConversationFile(message.getRecipientURL(), message.toString());\r\n    };\r\n\r\n    getGrantText = (urlPod, file) => {\r\n        return '@prefix : <#>. \\n'\r\n            + '@prefix c: </profile/card#>. \\n'\r\n            + '@prefix n0: <http://www.w3.org/ns/auth/acl#>. \\n'\r\n            + ':ControlReadWrite \\n'\r\n            + '\\ta n0:Authorization; \\n'\r\n            + '\\tn0:accessTo <' + file + '>; \\n'\r\n            + '\\tn0:agent c:me; \\n'\r\n            + '\\tn0:mode n0:Control, n0:Read, n0:Write. \\n'\r\n            + ':Read \\n'\r\n            + '\\ta n0:Authorization; \\n'\r\n            + '\\tn0:accessTo <' + file + '>; \\n'\r\n            + '\\tn0:agent <https://' + urlPod + '/profile/card#me>; \\n'\r\n            + '\\tn0:mode n0:Read.';\r\n    };\r\n\r\n    checkFolder = async () => {\r\n        const doc = (await this.getMe()).value.split('/').slice(0, 3).join('/') + '/';\r\n        const url = doc + FolderName;\r\n        return new Promise((resolve, reject) => {\r\n            this.readFile(url).then(res => {\r\n                resolve();\r\n            }, err => {\r\n                this.add(doc, FolderName, null, 'folder');\r\n            });\r\n        });\r\n    };\r\n\r\n    listFolderContent = async (url) => {\r\n        if (url.substr(-1) !== '/') {\r\n            url += '/';\r\n        }\r\n        return new Promise((resolve, reject) => {\r\n            this.fetch(url, null).then(folderRDF => {\r\n                this.foldersManager.text2graph(folderRDF, url, 'text/turtle').then(graph => {\r\n                    resolve(this.foldersManager.processFolder(graph, url, folderRDF));\r\n                }, err => reject(err));\r\n            }, err => reject(err));\r\n        });\r\n    };\r\n\r\n    add = async (parentFolder, url, content, contentType) => {\r\n        return new Promise((resolve, reject) => {\r\n            let link = '<http://www.w3.org/ns/ldp#Resource>; rel=\"type\"';\r\n            if (contentType === 'folder') {\r\n                link = '<http://www.w3.org/ns/ldp#BasicContainer>; rel=\"type\"';\r\n                contentType = 'text/turtle';\r\n            }\r\n            const request = {\r\n                method: 'POST',\r\n                headers: {slug: url, link: link, 'Access-Control-Allow-Origin': '*'},\r\n                body: content\r\n            };\r\n            if (typeof (contentType) != null || typeof (window) != null) {\r\n                request.headers['Content-Type'] = contentType;\r\n            }\r\n            solid.auth.fetch(parentFolder, request).then(res => {\r\n                const location = res.headers.get('location');\r\n                const file = location.substr(location.lastIndexOf('/') + 1);\r\n                resolve(parentFolder + file);\r\n            }, err => {\r\n                reject(err);\r\n            });\r\n        });\r\n    };\r\n\r\n    remove = async (url) => {\r\n        return new Promise((resolve, reject) => {\r\n            this.fetch(url, {method: 'DELETE'}).then(res => {\r\n                resolve(res);\r\n            }, err => {\r\n                resolve(err);\r\n            });\r\n        });\r\n    };\r\n\r\n    fetch = async (url, request) => {\r\n        return new Promise((resolve, reject) => {\r\n            solid.auth.fetch(url, request).then((res) => {\r\n                if (!res.ok) {\r\n                    reject(res.status + ' (' + res.statusText + ') ' + url);\r\n                }\r\n                let type = (res.headers._headers)\r\n                    ? res.headers._headers['content-type']\r\n                    : '';\r\n                type = type.toString();\r\n                if (type.match(/(image|audio|video)/)) {\r\n                    res.buffer().then(blob => {\r\n                        resolve(blob);\r\n                    }, err => reject('buffer error ' + err));\r\n                } else if (res.text) {\r\n                    res.text().then(text => {\r\n                        resolve(text);\r\n                    }, err => reject('buffer error ' + err));\r\n                } else {\r\n                    resolve(res);\r\n                }\r\n            }, err => {\r\n                reject('fetch errror ' + err + url);\r\n            });\r\n        });\r\n    };\r\n\r\n    updateFile = async (parentFolder, url, content, contentType) => {\r\n        await this.remove(parentFolder + '/' + url);\r\n        await this.add(parentFolder, url, content, contentType);\r\n    };\r\n\r\n    readFile = async (url) => {\r\n        return new Promise((resolve, reject) => {\r\n            this.fetch(url, null).then(result => {\r\n                resolve(result);\r\n            }, err => {\r\n                reject('fetch error ' + err);\r\n            });\r\n        });\r\n    };\r\n\r\n    /**\r\n     * Fetches the session from Solid, and store results in localStorage\r\n     */\r\n    getSession = async () => {\r\n        this.session = await solid.auth.currentSession(localStorage);\r\n    };\r\n\r\n    /**\r\n     * Gets a node that matches the specified pattern using the VCARD onthology\r\n     *\r\n     * any() can take a subject and a predicate to find Any one person identified by the webId\r\n     * that matches against the node/predicated\r\n     *\r\n     * @param {string} node VCARD predicate to apply to the $rdf.any()\r\n     * @param {string?} webId The webId URL (e.g. https://yourpod.solid.community/profile/card#me)\r\n     * @return {string} The value of the fetched node or an emtpty string\r\n     * @see https://github.com/solid/solid-tutorial-rdflib.js\r\n     */\r\n    getValueFromVcard = (node: string, webId?: string): string | any => {\r\n        return this.getValueFromNamespace(node, VCARD, webId);\r\n    };\r\n\r\n    /**\r\n     * Gets a node that matches the specified pattern using the FOAF onthology\r\n     * @param {string} node FOAF predicate to apply to the $rdf.any()\r\n     * @param {string?} webId The webId URL (e.g. https://yourpod.solid.community/profile/card#me)\r\n     * @return {string} The value of the fetched node or an emtpty string\r\n     */\r\n    getValueFromFoaf = (node: string, webId?: string) => {\r\n        return this.getValueFromNamespace(node, FOAF, webId);\r\n    };\r\n\r\n    transformDataForm = (form: NgForm, me: any, doc: any) => {\r\n        const insertions = [];\r\n        const deletions = [];\r\n        const fields = Object.keys(form.value);\r\n        const oldProfileData = JSON.parse(localStorage.getItem('oldProfileData')) || {};\r\n\r\n        // We need to split out into three code paths here:\r\n        // 1. There is an old value and a new value. This is the update path\r\n        // 2. There is no old value and a new value. This is the insert path\r\n        // 3. There is an old value and no new value. Ths is the delete path\r\n        // These are separate codepaths because the system needs to know what to do in each case\r\n        fields.map(field => {\r\n\r\n            let predicate = VCARD(this.getFieldName(field));\r\n            let subject = this.getUriForField(field, me);\r\n            let why = doc;\r\n\r\n            let fieldValue = this.getFieldValue(form, field);\r\n            let oldFieldValue = this.getOldFieldValue(field, oldProfileData);\r\n\r\n            // if there's no existing home phone number or email address, we need to add one, then add the link for hasTelephone or hasEmail\r\n            if (!oldFieldValue && fieldValue && (field === 'phone' || field === 'email')) {\r\n                this.addNewLinkedField(field, insertions, predicate, fieldValue, why, me);\r\n            } else {\r\n\r\n                //Add a value to be updated\r\n                if (oldProfileData[field] && form.value[field] && !form.controls[field].pristine) {\r\n                    deletions.push($rdf.st(subject, predicate, oldFieldValue, why));\r\n                    insertions.push($rdf.st(subject, predicate, fieldValue, why));\r\n                }\r\n\r\n                //Add a value to be deleted\r\n                else if (oldProfileData[field] && !form.value[field] && !form.controls[field].pristine) {\r\n                    deletions.push($rdf.st(subject, predicate, oldFieldValue, why));\r\n                }\r\n\r\n                //Add a value to be inserted\r\n                else if (!oldProfileData[field] && form.value[field] && !form.controls[field].pristine) {\r\n                    insertions.push($rdf.st(subject, predicate, fieldValue, why));\r\n                }\r\n            }\r\n        });\r\n\r\n        return {\r\n            insertions: insertions,\r\n            deletions: deletions\r\n        };\r\n    };\r\n\r\n    private addNewLinkedField(field, insertions, predicate, fieldValue, why, me: any) {\r\n        //Generate a new ID. This id can be anything but needs to be unique.\r\n        let newId = field + ':' + Date.now();\r\n\r\n        //Get a new subject, using the new ID\r\n        let newSubject = $rdf.sym(this.session.webId.split('#')[0] + '#' + newId);\r\n\r\n        //Set new predicate, based on email or phone fields\r\n        let newPredicate = field === 'phone' ? $rdf.sym(VCARD('hasTelephone')) : $rdf.sym(VCARD('hasEmail'));\r\n\r\n        //Add new phone or email to the pod\r\n        insertions.push($rdf.st(newSubject, predicate, fieldValue, why));\r\n\r\n        //Set the type (defaults to Home/Personal for now) and insert it into the pod as well\r\n        //Todo: Make this dynamic\r\n        let type = field === 'phone' ? $rdf.literal('Home') : $rdf.literal('Personal');\r\n        insertions.push($rdf.st(newSubject, VCARD('type'), type, why));\r\n\r\n        //Add a link in #me to the email/phone number (by id)\r\n        insertions.push($rdf.st(me, newPredicate, newSubject, why));\r\n    }\r\n\r\n    private getUriForField(field, me): string {\r\n        let uriString: string;\r\n        let uri: any;\r\n\r\n        switch (field) {\r\n            case 'phone':\r\n                uriString = this.getValueFromVcard('hasTelephone');\r\n                if (uriString) {\r\n                    uri = $rdf.sym(uriString);\r\n                }\r\n                break;\r\n            case 'email':\r\n                uriString = this.getValueFromVcard('hasEmail');\r\n                if (uriString) {\r\n                    uri = $rdf.sym(uriString);\r\n                }\r\n                break;\r\n            default:\r\n                uri = me;\r\n                break;\r\n        }\r\n\r\n        return uri;\r\n    }\r\n\r\n    /**\r\n     * Extracts the value of a field of a NgForm and converts it to a $rdf.NamedNode\r\n     * @param {NgForm} form\r\n     * @param {string} field The name of the field that is going to be extracted from the form\r\n     * @return {RdfNamedNode}\r\n     */\r\n    private getFieldValue(form: NgForm, field: string): any {\r\n        let fieldValue: any;\r\n\r\n        if (!form.value[field]) {\r\n            return;\r\n        }\r\n\r\n        switch (field) {\r\n            case 'phone':\r\n                fieldValue = $rdf.sym('tel:+' + form.value[field]);\r\n                break;\r\n            case 'email':\r\n                fieldValue = $rdf.sym('mailto:' + form.value[field]);\r\n                break;\r\n            default:\r\n                fieldValue = form.value[field];\r\n                break;\r\n        }\r\n\r\n        return fieldValue;\r\n    }\r\n\r\n    private getOldFieldValue(field, oldProfile): any {\r\n        let oldValue: any;\r\n\r\n        if (!oldProfile || !oldProfile[field]) {\r\n            return;\r\n        }\r\n\r\n        switch (field) {\r\n            case 'phone':\r\n                oldValue = $rdf.sym('tel:+' + oldProfile[field]);\r\n                break;\r\n            case 'email':\r\n                oldValue = $rdf.sym('mailto:' + oldProfile[field]);\r\n                break;\r\n            default:\r\n                oldValue = oldProfile[field];\r\n                break;\r\n        }\r\n\r\n        return oldValue;\r\n    }\r\n\r\n    private getFieldName(field): string {\r\n        switch (field) {\r\n            case 'company':\r\n                return 'organization-name';\r\n            case 'phone':\r\n            case 'email':\r\n                return 'value';\r\n            default:\r\n                return field;\r\n        }\r\n    }\r\n\r\n    updateProfile = async (form: NgForm) => {\r\n        const me = $rdf.sym(this.session.webId);\r\n        const doc = $rdf.NamedNode.fromValue(this.session.webId.split('#')[0]);\r\n        const data = this.transformDataForm(form, me, doc);\r\n\r\n        //Update existing values\r\n        if (data.insertions.length > 0 || data.deletions.length > 0) {\r\n            this.updateManager.update(data.deletions, data.insertions, (response, success, message) => {\r\n                if (success) {\r\n                    this.toastr.success('Your Solid profile has been successfully updated', 'Success!');\r\n                    form.form.markAsPristine();\r\n                    form.form.markAsTouched();\r\n                } else {\r\n                    this.toastr.error('Message: ' + message, 'An error has occurred');\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    getAddress = () => {\r\n        const linkedUri = this.getValueFromVcard('hasAddress');\r\n\r\n        if (linkedUri) {\r\n            return {\r\n                locality: this.getValueFromVcard('locality', linkedUri),\r\n                country_name: this.getValueFromVcard('country-name', linkedUri),\r\n                region: this.getValueFromVcard('region', linkedUri),\r\n                street: this.getValueFromVcard('street-address', linkedUri),\r\n            };\r\n        }\r\n\r\n        return {};\r\n    };\r\n\r\n    //Function to get email. This returns only the first email, which is temporary\r\n    getEmail = () => {\r\n        const linkedUri = this.getValueFromVcard('hasEmail');\r\n\r\n        if (linkedUri) {\r\n            return this.getValueFromVcard('value', linkedUri).split('mailto:')[1];\r\n        }\r\n\r\n        return '';\r\n    };\r\n\r\n    //Function to get phone number. This returns only the first phone number, which is temporary. It also ignores the type.\r\n    getPhone = () => {\r\n        const linkedUri = this.getValueFromVcard('hasTelephone');\r\n\r\n        if (linkedUri) {\r\n            return this.getValueFromVcard('value', linkedUri).split('tel:+')[1];\r\n        }\r\n    };\r\n\r\n    getProfile = async () => {\r\n\r\n        if (!this.session) {\r\n            await this.getSession();\r\n        }\r\n\r\n        try {\r\n            await this.fetcher.load(this.session.webId);\r\n\r\n            return {\r\n                fn: this.getValueFromVcard('fn'),\r\n                company: this.getValueFromVcard('organization-name'),\r\n                phone: this.getPhone(),\r\n                role: this.getValueFromVcard('role'),\r\n                image: this.getValueFromVcard('hasPhoto'),\r\n                address: this.getAddress(),\r\n                email: this.getEmail(),\r\n            };\r\n        } catch (error) {\r\n            console.log(`Error fetching data: ${error}`);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Gets any resource that matches the node, using the provided Namespace\r\n     * @param {string} node The name of the predicate to be applied using the provided Namespace\r\n     * @param {$rdf.namespace} namespace The RDF Namespace\r\n     * @param {string?} webId The webId URL (e.g. https://yourpod.solid.community/profile/card#me)\r\n     */\r\n    private getValueFromNamespace(node: string, namespace: any, webId?: string): string | any {\r\n        const store = this.store.any($rdf.sym(webId || this.session.webId), namespace(node));\r\n        if (store) {\r\n            return store.value;\r\n        }\r\n        return '';\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { Observable, from } from 'rxjs';\r\nimport { RdfService } from './rdf.service';\r\nimport { SolidProvider } from '../models/solid-provider.model';\r\ndeclare let solid: any;\r\n\r\ninterface SolidSession {\r\n  accessToken: string;\r\n  clientId: string;\r\n  idToken: string;\r\n  sessionKey: string;\r\n  webId: string;\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class AuthService {\r\n  session: Observable<{}>;\r\n  fechInit = {\r\n    method: 'PATCH',\r\n    headers: {\r\n      'Content-Type': 'application/sparql-update',\r\n    },\r\n    body: '',\r\n  };\r\n\r\n  constructor(private router: Router, private rdf: RdfService) {\r\n    this.isSessionActive();\r\n  }\r\n\r\n  /*\r\n   * This will check if current session is active to avoid security problems\r\n  */\r\n  isSessionActive = async () => {\r\n    this.session = from(solid.auth.currentSession());\r\n  }\r\n\r\n  /**\r\n   * Alternative login-popup function. This will open a popup that will allow you to choose an identity provider\r\n   * without leaving the current page\r\n   * This is recommended if you don't want to leave the current workflow.\r\n   */\r\n  solidLoginPopup = async () => {\r\n    try {\r\n      await solid.auth.popupLogin({ popupUri: './login-popup'});\r\n      // Check if session is valid to avoid redirect issues\r\n      await this.isSessionActive();\r\n\r\n      // popupLogin success redirect to profile\r\n      this.router.navigate(['/card']);\r\n    } catch (error) {\r\n      console.log(`Error: ${error}`);\r\n    }\r\n  }\r\n\r\n  /*\r\n  * Signs out of Solid in this app, by calling the logout function and clearing the localStorage token\r\n  */\r\n  solidSignOut = async () => {\r\n    try {\r\n      await solid.auth.logout();\r\n      // Remove localStorage\r\n      localStorage.removeItem('solid-auth-client');\r\n      // Redirect to login page\r\n      this.router.navigate(['/']);\r\n    } catch (error) {\r\n      console.log(`Error: ${error}`);\r\n    }\r\n  }\r\n\r\n  saveOldUserData = (profile: any) => {\r\n    if (!localStorage.getItem('oldProfileData')) {\r\n      localStorage.setItem('oldProfileData', JSON.stringify(profile));\r\n    }\r\n  }\r\n\r\n  getOldUserData = () => {\r\n    return JSON.parse(localStorage.getItem('oldProfileData'));\r\n  }\r\n\r\n  /*\r\n  *  Make a call to the solid auth endpoint. It requires an identity provider url, which here is coming from the dropdown, which\r\n  *  is populated by the getIdentityProviders() function call. It currently requires a callback url and a storage option or else\r\n  *  the call will fail.\r\n  */\r\n  solidLogin = async (idp: string) => {\r\n    await solid.auth.login(idp, {\r\n      callbackUri: `${window.location.href}card`,\r\n      storage: localStorage,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Function to get providers. This is to mimic the future provider registry\r\n   *\r\n   * @return {SolidProvider[]} A list of SolidProviders\r\n   */\r\n  getIdentityProviders(): SolidProvider[] {\r\n    const inruptProvider: SolidProvider = {\r\n      name: 'Inrupt',\r\n      image: '/assets/images/Inrupt.png',\r\n      loginUrl: 'https://inrupt.net/auth',\r\n      desc: 'Inrupt Inc. provider'\r\n    };\r\n    const solidCommunityProvider: SolidProvider = {\r\n      name: 'Solid Community',\r\n      image: '/assets/images/Solid.png',\r\n      loginUrl: 'https://solid.community',\r\n      desc: 'A provider maintained by the Solid Community'\r\n    };\r\n    const otherProvider: SolidProvider = {\r\n      name: 'Other (Enter WebID)',\r\n      image: '/assets/images/Generic.png',\r\n      loginUrl: null,\r\n      desc: 'Generic provider'\r\n    };\r\n\r\n    return [\r\n      inruptProvider,\r\n      solidCommunityProvider,\r\n      otherProvider\r\n    ];\r\n  }\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build ---prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * In development mode, to ignore zone related error stack frames such as\r\n * `zone.run`, `zoneDelegate.invokeTask` for easier debugging, you can\r\n * import the following file, but please comment it out in production mode\r\n * because it will have performance impact when throw error\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.log(err));\r\n","/* (ignored) */"],"sourceRoot":""}